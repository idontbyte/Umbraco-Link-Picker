<div class="umb-panel" ng-controller="Gibe.Dialogs.LinkPickerController">
	<div class="umb-panel-body no-header with-footer compact">
		<umb-pane>
		    <umb-control-group label="@content_urls">
		        <input type="text"
		               localize="placeholder"
		               placeholder="@general_url"
		               class="umb-editor umb-textstring"
		               ng-model="target.url"
		               ng-disabled="target.id"/>
		    </umb-control-group>

            <umb-control-group label="Hash Target">
                <input type="text"
                       localize="placeholder"
                       placeholder="Enter a hash target..."
                       class="umb-editor umb-textstring"
                       ng-model="target.hashtarget" />
            </umb-control-group>

		    <umb-control-group label="@content_nodeName">
				<input type="text"
					localize="placeholder" 
					placeholder="@placeholders_entername" 
					class="umb-editor umb-textstring" 
					ng-model="target.name" />
			</umb-control-group>

			<umb-control-group label="@content_target">
				<select class="umb-editor umb-dropdown" ng-model="target.target">
					<option value=""></option>
					<option value="_blank">Opens the linked document in a new window or tab</option>
					<option value="_top">Opens the linked document in the full body of the window</option>
					<option value="_parent">Opens the linked document in the parent frame</option>
				</select>
			</umb-control-group>
			
		    <umb-control-group label="Google Tag Manager - Category">
			<div id="categorySearchContainer">
				<input type="text" placeholder="Enter a GTM category..."  class="umb-editor umb-textstring" ng-model="target.gtmCategory" ng-change="updateSearchTerm(target.gtmCategory)" />
				<div class="autocomplete innerBox" ng-show="autocompleteHide==false">
					<ul>
						<li ng-repeat="autoText in gtmCategories | filter:target.gtmCategory" ng-click="selectAutoText(autoText.Name)">{{autoText.Name}} <a href="" class="delete-category-button color-red icon-delete" ng-click="removeCategory(autoText.Name)"></a></li>
					</ul>
				</div>
			</div>
			</umb-control-group>
			<style>
				.autocomplete ul {
					margin-left: 0px;
					width: 98%;
					margin-top: -11px;
					border: 1px solid #ccc;
				}

				.autocomplete ul li{
					list-style: none;
					padding: 5px 6px 5px 6px;
					cursor: pointer;
				}

				.autocomplete ul li:hover {
					background-color: #f8f8f8;
				}
				
				.delete-category-button {
					float: right;
				}
			</style>
			
		    <umb-control-group label="Google Tag Manager - Action">
				<input type="text"
					localize="placeholder" 
					placeholder="Enter a GTM action..." 
					class="umb-editor umb-textstring" 
					ng-model="target.gtmAction" />
			</umb-control-group>
			
		    <umb-control-group label="Google Tag Manager - Label">
				<input type="text"
					localize="placeholder" 
					placeholder="Enter a GTM label..." 
					class="umb-editor umb-textstring" 
					ng-model="target.gtmLabel" />
			</umb-control-group>
		</umb-pane>

        <umb-tree-search-box hide-search-callback="hideSearch"
                             search-callback="onSearchResults"
                             search-from-id="{{searchInfo.searchFromId}}"
                             search-from-name="{{searchInfo.searchFromName}}"
                             show-search="{{searchInfo.showSearch}}"
                             section="{{section}}">
        </umb-tree-search-box>
        
        <br/>

        <umb-tree-search-results ng-if="searchInfo.showSearch"
                                 results="searchInfo.results"
                                 select-result-callback="selectResult">
        </umb-tree-search-results>
        
	    <div ng-hide="searchInfo.showSearch">
            <umb-tree section="content"
                      hideheader="true"
                      hideoptions="true"
                      eventhandler="dialogTreeEventHandler"
                      isdialog="true"
                      enablecheckboxes="true">
            </umb-tree>    
	    </div>
        
	</div>

	<div class="umb-panel-footer">
		<div class="umb-el-wrap umb-panel-buttons">
	        <div class="btn-toolbar umb-btn-toolbar pull-right">
	        	<a href ng-click="close()" class="btn btn-link">
	        		<localize key="general_cancel">Cancel</localize>
				</a>

				<a href ng-click="switchToMediaPicker()" class="btn">Link to file</a>

				<button
					class="btn btn-primary"
					ng-click="submit(target)">
					<localize key="buttons_select">Select</localize>
				</button>
	        </div>
		</div>
	</div>
</div>